{% extends "base.html.j2" %}

{% block title %}
        {{ suite_name }} : {{ source_identifier }} vs {{ golden_identifier }}
{% endblock %}

{% block content %}

<h1>{{ suite_name }} : {{ source_identifier }} vs {{ golden_identifier }}</h1>

{% for result in results | sort(attribute='test_name') %}
    <h3>{{ result.test_name }}</h3>

    <div class="comparison-image-set">

    {% if result.diff_image_url %}
    <div class="image-container">
    <img src="{{ result.diff_image_url }}" alt="Diff result for {{ suite_name }}::{{ result.test_name }}" class="inline-image">
    </div>
    {% endif %}

    {% if result.source_image_url and result.golden_image_url %}
    <div class="image-pair">
        <div class="image-pair-title-bar">
            <div class="image-title" data-state="source"><a href="{{ result.source_image_url }}">Source</a></div>
            <div class="image-title" data-state="golden"><a href="{{ result.golden_image_url }}">Golden</a></div>
        </div>
        <img src="{{ result.source_image_url }}"
             alt="Source image for {{ suite_name }}::{{ result.test_name }}"
             class="image-comparison"
             data-state="source"
             {% if result.no_alpha_source_image_url %}data-noalpha="{{ result.no_alpha_source_image_url }}"{% endif %}
        >
        <img src="{{ result.golden_image_url }}"
             alt="Golden image for {{ suite_name }}::{{ result.test_name }}"
             class="image-comparison"
             data-state="golden"
             style="display: none;"
             {% if result.no_alpha_golden_image_url %}data-noalpha="{{ result.no_alpha_golden_image_url }}"{% endif %}
        >
    </div>
    {% elif result.source_image_url %}
        <div class="image-pair-title-bar">
            <div class="image-title"><a href="{{ result.source_image_url }}">Source</a></div>
        </div>
        <img src="{{ result.source_image_url }}"
             alt="Source image for {{ suite_name }}::{{ result.test_name }}"
             class="image-comparison"
             {% if result.no_alpha_source_image_url %}data-noalpha="{{ result.no_alpha_source_image_url }}"{% endif %}
        >
    {% elif result.golden_image_url %}
        <div class="image-pair-title-bar">
            <div class="image-title"><a href="{{ result.golden_image_url }}">Golden</a><</div>
        </div>
        <img src="{{ result.golden_image_url }}"
             alt="Golden image for {{ suite_name }}::{{ result.test_name }}"
             class="image-comparison"
             {% if result.no_alpha_golden_image_url %}data-noalpha="{{ result.no_alpha_golden_image_url }}"{% endif %}
        >
    {% endif %}

    </div>

{% endfor %}

<div id="ignore-alpha-box">
    <label><input type="checkbox" id="ignore-alpha"> Ignore Alpha</label>
</div>

{% endblock %}
